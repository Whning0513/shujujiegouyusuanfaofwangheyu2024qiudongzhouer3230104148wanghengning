# Expression Evaluator
## 简介
这是一个基于 C++ 的四则运算表达式求值程序，支持中缀表达式的合法性检查和计算。程序能够处理包含加法、减法、乘法、除法、括号和科学计数法的表达式，对于非法输入，会返回 ILLEGAL。  
  
## file结构
.  
├── expression_evaluator.h    # 表达式求值的核心实现  
├── main.cpp                  # 程序入口，处理交互和测试用例  
├── test_cases.txt            # 测试用例文件,格式expression|result为一行
├── Makefile                  # 自动化编译脚本  
└── readme.md               
└── report.tex                # 文档报告的源代码    
  
## 使用方法
  
在当前文件夹下运行 make 或 make report 然后再 make clean 即可，    
注意请不要用某些IDE编译，如果文件夹结构变成(... , output(main.exe))  
的结构，会导致程序读取test_cases.txt时fail    
运行可执行程序后输入help可获得进一步的介绍，也可以就直接输进去算。     
     
示例：  
``` 
>> 3 + 5 * (2 - 1)  
Result: 8  
>> (2 + 3))  
ILLEGAL  
```
输入 help 查看帮助菜单。  
输入 exit 退出程序。  
输入 ptc 运行检查我预设的公式.  


## 注意事项

 - 可以接受负数，可以接受如1+-1或者1--1的结构，同样支持(-1)和--1和---1等  。不允许+作为单目运算符“正”存在，即+前必须是数字或者e  
 - 可以接受科学计数法和小数，1e1和1e+1都视作10，1e-1视作0.1，但是e后不能跟小数或表达式，.1和0.1等价，1.和1等价，即兼容有或没有前导零的情况，1e1.5会被视作ILLEGAL，而非10sqrt10或10.5之类的数，因为严格上科学计数法中10的指数应该是整数     
 - 可以接受()[]{}的混用，同时为了支持四重以上的括号，对里外次序不要求(即数学上不推荐的([])是被允许的)    
  - 程序主要使用了double型，故无法应付较长的数(绝对值大于1.8e308或小于2.2e-308)  
 - 输出默认用保留6位有效小数，对于绝对值的对数值的绝对值过大的数会用科学计数法输出，会存在误差  
  
  
王珩宁 3230104148 20241115  

